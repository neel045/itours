{"id":"FxPS","dependencies":[{"name":"F:\\vs code programming\\iTours\\package.json","includedInParent":true,"mtime":1625065854385},{"name":"axios","loc":{"line":1,"column":18},"parent":"F:\\vs code programming\\iTours\\public\\js\\updateSettings.js","resolved":"F:\\vs code programming\\iTours\\node_modules\\axios\\index.js"},{"name":"./alert","loc":{"line":2,"column":26},"parent":"F:\\vs code programming\\iTours\\public\\js\\updateSettings.js","resolved":"F:\\vs code programming\\iTours\\public\\js\\alert.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.createReview=exports.tourSettings=exports.updateSettings=void 0;var e=t(require(\"axios\")),s=require(\"./alert\");function t(e){return e&&e.__esModule?e:{default:e}}const r=async(t,r)=>{try{const a=\"password\"===r?\"/api/v1/users/updateMyPassword\":\"/api/v1/users/updateMe\";\"success\"===(await(0,e.default)({method:\"PATCH\",url:a,data:t})).data.status&&(0,s.showAlert)(\"success\",`${r.toUpperCase()} sucessfully`)}catch(err){(0,s.showAlert)(\"error\",err.response.data.message)}};exports.updateSettings=r;const a=async(t,r,a=0)=>{try{const o=\"create\"===r?\"/api/v1/tours\":`/api/v1/tours/${a}`,u=\"create\"===r?\"POST\":\"PATCH\";\"success\"===(await(0,e.default)({method:u,url:o,data:t})).data.status?(0,s.showAlert)(\"success\",`${r.toUpperCase()} sucessfully`):(0,s.showAlert)(\"error\",err.response.data.message)}catch(err){(0,s.showAlert)(\"error\",err.response.data.message)}};exports.tourSettings=a;const o=async(t,r)=>{try{const a=`/api/v1/tours/${r}/reviews`,o=\"POST\";\"success\"===(await(0,e.default)({method:o,url:a,data:t})).data.status&&(0,s.showAlert)(\"success\",\"review create sucessfully\")}catch(err){(0,s.showAlert)(\"error\",err.response.data.message)}};exports.createReview=o;"},"sourceMaps":{"js":{"mappings":[{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":0}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":13}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":20}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":35}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":43}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":56}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":57}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":64}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":68}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":76}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":89}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":97}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":110}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":118}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":138}},{"source":"updateSettings.js","original":{"line":1,"column":0},"generated":{"line":1,"column":140}},{"source":"updateSettings.js","original":{"line":1,"column":0},"generated":{"line":1,"column":144}},{"source":"updateSettings.js","original":{"line":1,"column":0},"generated":{"line":1,"column":146}},{"source":"updateSettings.js","original":{"line":1,"column":0},"generated":{"line":1,"column":148}},{"source":"updateSettings.js","original":{"line":1,"column":0},"generated":{"line":1,"column":156}},{"source":"updateSettings.js","original":{"line":2,"column":0},"generated":{"line":1,"column":166}},{"source":"updateSettings.js","original":{"line":2,"column":0},"generated":{"line":1,"column":168}},{"source":"updateSettings.js","original":{"line":2,"column":0},"generated":{"line":1,"column":176}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":187}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":196}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":198}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":201}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":208}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":211}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":213}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":224}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":226}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":227}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":235}},{"source":"updateSettings.js","original":{"line":5,"column":7},"generated":{"line":1,"column":238}},{"source":"updateSettings.js","name":"updateSettings","original":{"line":5,"column":13},"generated":{"line":1,"column":244}},{"source":"updateSettings.js","original":{"line":5,"column":30},"generated":{"line":1,"column":246}},{"source":"updateSettings.js","name":"data","original":{"line":5,"column":37},"generated":{"line":1,"column":252}},{"source":"updateSettings.js","name":"type","original":{"line":5,"column":43},"generated":{"line":1,"column":254}},{"source":"updateSettings.js","original":{"line":6,"column":6},"generated":{"line":1,"column":259}},{"source":"updateSettings.js","name":"url","original":{"line":7,"column":10},"generated":{"line":1,"column":263}},{"source":"updateSettings.js","name":"url","original":{"line":7,"column":10},"generated":{"line":1,"column":269}},{"source":"updateSettings.js","original":{"line":8,"column":15},"generated":{"line":1,"column":271}},{"source":"updateSettings.js","name":"type","original":{"line":8,"column":6},"generated":{"line":1,"column":284}},{"source":"updateSettings.js","original":{"line":9,"column":10},"generated":{"line":1,"column":286}},{"source":"updateSettings.js","original":{"line":10,"column":10},"generated":{"line":1,"column":319}},{"source":"updateSettings.js","original":{"line":17,"column":28},"generated":{"line":1,"column":344}},{"source":"updateSettings.js","original":{"line":11,"column":22},"generated":{"line":1,"column":363}},{"source":"updateSettings.js","original":{"line":11,"column":28},"generated":{"line":1,"column":365}},{"source":"updateSettings.js","original":{"line":11,"column":28},"generated":{"line":1,"column":367}},{"source":"updateSettings.js","original":{"line":11,"column":28},"generated":{"line":1,"column":376}},{"source":"updateSettings.js","name":"method","original":{"line":12,"column":6},"generated":{"line":1,"column":377}},{"source":"updateSettings.js","original":{"line":12,"column":14},"generated":{"line":1,"column":384}},{"source":"updateSettings.js","name":"url","original":{"line":13,"column":6},"generated":{"line":1,"column":392}},{"source":"updateSettings.js","name":"url","original":{"line":13,"column":6},"generated":{"line":1,"column":396}},{"source":"updateSettings.js","name":"data","original":{"line":14,"column":6},"generated":{"line":1,"column":398}},{"source":"updateSettings.js","name":"data","original":{"line":14,"column":6},"generated":{"line":1,"column":403}},{"source":"updateSettings.js","name":"data","original":{"line":17,"column":12},"generated":{"line":1,"column":408}},{"source":"updateSettings.js","name":"status","original":{"line":17,"column":17},"generated":{"line":1,"column":413}},{"source":"updateSettings.js","original":{"line":18,"column":16},"generated":{"line":1,"column":422}},{"source":"updateSettings.js","original":{"line":18,"column":16},"generated":{"line":1,"column":424}},{"source":"updateSettings.js","original":{"line":18,"column":16},"generated":{"line":1,"column":426}},{"source":"updateSettings.js","original":{"line":18,"column":16},"generated":{"line":1,"column":437}},{"source":"updateSettings.js","name":"type","original":{"line":18,"column":30},"generated":{"line":1,"column":450}},{"source":"updateSettings.js","name":"toUpperCase","original":{"line":18,"column":35},"generated":{"line":1,"column":452}},{"source":"updateSettings.js","original":{"line":20,"column":4},"generated":{"line":1,"column":481}},{"source":"updateSettings.js","name":"err","original":{"line":20,"column":11},"generated":{"line":1,"column":487}},{"source":"updateSettings.js","original":{"line":21,"column":14},"generated":{"line":1,"column":493}},{"source":"updateSettings.js","original":{"line":21,"column":14},"generated":{"line":1,"column":495}},{"source":"updateSettings.js","original":{"line":21,"column":14},"generated":{"line":1,"column":497}},{"source":"updateSettings.js","original":{"line":21,"column":14},"generated":{"line":1,"column":508}},{"source":"updateSettings.js","name":"err","original":{"line":21,"column":23},"generated":{"line":1,"column":516}},{"source":"updateSettings.js","name":"response","original":{"line":21,"column":27},"generated":{"line":1,"column":520}},{"source":"updateSettings.js","name":"data","original":{"line":21,"column":36},"generated":{"line":1,"column":529}},{"source":"updateSettings.js","name":"message","original":{"line":21,"column":41},"generated":{"line":1,"column":534}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":545}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":553}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":568}},{"source":"updateSettings.js","original":{"line":25,"column":7},"generated":{"line":1,"column":570}},{"source":"updateSettings.js","name":"tourSettings","original":{"line":25,"column":13},"generated":{"line":1,"column":576}},{"source":"updateSettings.js","original":{"line":25,"column":28},"generated":{"line":1,"column":578}},{"source":"updateSettings.js","name":"data","original":{"line":25,"column":35},"generated":{"line":1,"column":584}},{"source":"updateSettings.js","name":"type","original":{"line":25,"column":41},"generated":{"line":1,"column":586}},{"source":"updateSettings.js","name":"id","original":{"line":25,"column":47},"generated":{"line":1,"column":588}},{"source":"updateSettings.js","original":{"line":25,"column":52},"generated":{"line":1,"column":590}},{"source":"updateSettings.js","original":{"line":26,"column":6},"generated":{"line":1,"column":595}},{"source":"updateSettings.js","name":"url","original":{"line":27,"column":10},"generated":{"line":1,"column":599}},{"source":"updateSettings.js","name":"url","original":{"line":27,"column":10},"generated":{"line":1,"column":605}},{"source":"updateSettings.js","original":{"line":27,"column":25},"generated":{"line":1,"column":607}},{"source":"updateSettings.js","name":"type","original":{"line":27,"column":16},"generated":{"line":1,"column":618}},{"source":"updateSettings.js","original":{"line":27,"column":36},"generated":{"line":1,"column":620}},{"source":"updateSettings.js","name":"id","original":{"line":27,"column":71},"generated":{"line":1,"column":653}},{"source":"updateSettings.js","name":"method","original":{"line":28,"column":10},"generated":{"line":1,"column":657}},{"source":"updateSettings.js","original":{"line":28,"column":28},"generated":{"line":1,"column":659}},{"source":"updateSettings.js","name":"type","original":{"line":28,"column":19},"generated":{"line":1,"column":670}},{"source":"updateSettings.js","original":{"line":28,"column":39},"generated":{"line":1,"column":672}},{"source":"updateSettings.js","original":{"line":28,"column":48},"generated":{"line":1,"column":679}},{"source":"updateSettings.js","original":{"line":36,"column":28},"generated":{"line":1,"column":687}},{"source":"updateSettings.js","original":{"line":30,"column":22},"generated":{"line":1,"column":706}},{"source":"updateSettings.js","original":{"line":30,"column":28},"generated":{"line":1,"column":708}},{"source":"updateSettings.js","original":{"line":30,"column":28},"generated":{"line":1,"column":710}},{"source":"updateSettings.js","original":{"line":30,"column":28},"generated":{"line":1,"column":719}},{"source":"updateSettings.js","name":"method","original":{"line":31,"column":6},"generated":{"line":1,"column":720}},{"source":"updateSettings.js","name":"method","original":{"line":31,"column":6},"generated":{"line":1,"column":727}},{"source":"updateSettings.js","name":"url","original":{"line":32,"column":6},"generated":{"line":1,"column":729}},{"source":"updateSettings.js","name":"url","original":{"line":32,"column":6},"generated":{"line":1,"column":733}},{"source":"updateSettings.js","name":"data","original":{"line":33,"column":6},"generated":{"line":1,"column":735}},{"source":"updateSettings.js","name":"data","original":{"line":33,"column":6},"generated":{"line":1,"column":740}},{"source":"updateSettings.js","name":"data","original":{"line":36,"column":12},"generated":{"line":1,"column":745}},{"source":"updateSettings.js","name":"status","original":{"line":36,"column":17},"generated":{"line":1,"column":750}},{"source":"updateSettings.js","original":{"line":37,"column":16},"generated":{"line":1,"column":758}},{"source":"updateSettings.js","original":{"line":37,"column":16},"generated":{"line":1,"column":760}},{"source":"updateSettings.js","original":{"line":37,"column":16},"generated":{"line":1,"column":762}},{"source":"updateSettings.js","original":{"line":37,"column":16},"generated":{"line":1,"column":773}},{"source":"updateSettings.js","name":"type","original":{"line":37,"column":30},"generated":{"line":1,"column":786}},{"source":"updateSettings.js","name":"toUpperCase","original":{"line":37,"column":35},"generated":{"line":1,"column":788}},{"source":"updateSettings.js","original":{"line":39,"column":16},"generated":{"line":1,"column":818}},{"source":"updateSettings.js","original":{"line":39,"column":16},"generated":{"line":1,"column":820}},{"source":"updateSettings.js","original":{"line":39,"column":16},"generated":{"line":1,"column":822}},{"source":"updateSettings.js","original":{"line":39,"column":16},"generated":{"line":1,"column":833}},{"source":"updateSettings.js","name":"err","original":{"line":39,"column":25},"generated":{"line":1,"column":841}},{"source":"updateSettings.js","name":"response","original":{"line":39,"column":29},"generated":{"line":1,"column":845}},{"source":"updateSettings.js","name":"data","original":{"line":39,"column":38},"generated":{"line":1,"column":854}},{"source":"updateSettings.js","name":"message","original":{"line":39,"column":43},"generated":{"line":1,"column":859}},{"source":"updateSettings.js","original":{"line":41,"column":4},"generated":{"line":1,"column":868}},{"source":"updateSettings.js","name":"err","original":{"line":41,"column":11},"generated":{"line":1,"column":874}},{"source":"updateSettings.js","original":{"line":42,"column":14},"generated":{"line":1,"column":880}},{"source":"updateSettings.js","original":{"line":42,"column":14},"generated":{"line":1,"column":882}},{"source":"updateSettings.js","original":{"line":42,"column":14},"generated":{"line":1,"column":884}},{"source":"updateSettings.js","original":{"line":42,"column":14},"generated":{"line":1,"column":895}},{"source":"updateSettings.js","name":"err","original":{"line":42,"column":23},"generated":{"line":1,"column":903}},{"source":"updateSettings.js","name":"response","original":{"line":42,"column":27},"generated":{"line":1,"column":907}},{"source":"updateSettings.js","name":"data","original":{"line":42,"column":36},"generated":{"line":1,"column":916}},{"source":"updateSettings.js","name":"message","original":{"line":42,"column":41},"generated":{"line":1,"column":921}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":932}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":940}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":953}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":955}},{"source":"updateSettings.js","name":"createReview","original":{"line":46,"column":13},"generated":{"line":1,"column":961}},{"source":"updateSettings.js","original":{"line":46,"column":28},"generated":{"line":1,"column":963}},{"source":"updateSettings.js","name":"data","original":{"line":46,"column":35},"generated":{"line":1,"column":969}},{"source":"updateSettings.js","name":"id","original":{"line":46,"column":41},"generated":{"line":1,"column":971}},{"source":"updateSettings.js","original":{"line":47,"column":6},"generated":{"line":1,"column":976}},{"source":"updateSettings.js","name":"url","original":{"line":48,"column":10},"generated":{"line":1,"column":980}},{"source":"updateSettings.js","name":"url","original":{"line":48,"column":10},"generated":{"line":1,"column":986}},{"source":"updateSettings.js","name":"id","original":{"line":48,"column":33},"generated":{"line":1,"column":1005}},{"source":"updateSettings.js","name":"method","original":{"line":49,"column":10},"generated":{"line":1,"column":1017}},{"source":"updateSettings.js","original":{"line":49,"column":19},"generated":{"line":1,"column":1019}},{"source":"updateSettings.js","original":{"line":57,"column":28},"generated":{"line":1,"column":1026}},{"source":"updateSettings.js","original":{"line":51,"column":22},"generated":{"line":1,"column":1045}},{"source":"updateSettings.js","original":{"line":51,"column":28},"generated":{"line":1,"column":1047}},{"source":"updateSettings.js","original":{"line":51,"column":28},"generated":{"line":1,"column":1049}},{"source":"updateSettings.js","original":{"line":51,"column":28},"generated":{"line":1,"column":1058}},{"source":"updateSettings.js","name":"method","original":{"line":52,"column":6},"generated":{"line":1,"column":1059}},{"source":"updateSettings.js","name":"method","original":{"line":52,"column":6},"generated":{"line":1,"column":1066}},{"source":"updateSettings.js","name":"url","original":{"line":53,"column":6},"generated":{"line":1,"column":1068}},{"source":"updateSettings.js","name":"url","original":{"line":53,"column":6},"generated":{"line":1,"column":1072}},{"source":"updateSettings.js","name":"data","original":{"line":54,"column":6},"generated":{"line":1,"column":1074}},{"source":"updateSettings.js","name":"data","original":{"line":54,"column":6},"generated":{"line":1,"column":1079}},{"source":"updateSettings.js","name":"data","original":{"line":57,"column":12},"generated":{"line":1,"column":1084}},{"source":"updateSettings.js","name":"status","original":{"line":57,"column":17},"generated":{"line":1,"column":1089}},{"source":"updateSettings.js","original":{"line":58,"column":16},"generated":{"line":1,"column":1098}},{"source":"updateSettings.js","original":{"line":58,"column":16},"generated":{"line":1,"column":1100}},{"source":"updateSettings.js","original":{"line":58,"column":16},"generated":{"line":1,"column":1102}},{"source":"updateSettings.js","original":{"line":58,"column":16},"generated":{"line":1,"column":1113}},{"source":"updateSettings.js","original":{"line":58,"column":27},"generated":{"line":1,"column":1123}},{"source":"updateSettings.js","original":{"line":60,"column":4},"generated":{"line":1,"column":1152}},{"source":"updateSettings.js","name":"err","original":{"line":60,"column":11},"generated":{"line":1,"column":1158}},{"source":"updateSettings.js","original":{"line":61,"column":14},"generated":{"line":1,"column":1164}},{"source":"updateSettings.js","original":{"line":61,"column":14},"generated":{"line":1,"column":1166}},{"source":"updateSettings.js","original":{"line":61,"column":14},"generated":{"line":1,"column":1168}},{"source":"updateSettings.js","original":{"line":61,"column":14},"generated":{"line":1,"column":1179}},{"source":"updateSettings.js","name":"err","original":{"line":61,"column":23},"generated":{"line":1,"column":1187}},{"source":"updateSettings.js","name":"response","original":{"line":61,"column":27},"generated":{"line":1,"column":1191}},{"source":"updateSettings.js","name":"data","original":{"line":61,"column":36},"generated":{"line":1,"column":1200}},{"source":"updateSettings.js","name":"message","original":{"line":61,"column":41},"generated":{"line":1,"column":1205}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":1216}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":1224}},{"source":"updateSettings.js","original":{"line":46,"column":7},"generated":{"line":1,"column":1237}}],"sources":{"updateSettings.js":"import axios from 'axios';\r\nimport { showAlert } from './alert';\r\n\r\n// type is here either 'data' or 'password'\r\nexport const updateSettings = async (data, type) => {\r\n  try {\r\n    const url =\r\n      type === 'password'\r\n        ? '/api/v1/users/updateMyPassword'\r\n        : '/api/v1/users/updateMe';\r\n    const res = await axios({\r\n      method: 'PATCH',\r\n      url,\r\n      data,\r\n    });\r\n\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', `${type.toUpperCase()} sucessfully`);\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', err.response.data.message);\r\n  }\r\n};\r\n\r\nexport const tourSettings = async (data, type, id = 0) => {\r\n  try {\r\n    const url = type === 'create' ? '/api/v1/tours' : `/api/v1/tours/${id}`;\r\n    const method = type === 'create' ? 'POST' : 'PATCH';\r\n\r\n    const res = await axios({\r\n      method,\r\n      url,\r\n      data,\r\n    });\r\n\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', `${type.toUpperCase()} sucessfully`);\r\n    } else {\r\n      showAlert('error', err.response.data.message);\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', err.response.data.message);\r\n  }\r\n};\r\n\r\nexport const createReview = async (data, id) => {\r\n  try {\r\n    const url = `/api/v1/tours/${id}/reviews`;\r\n    const method = 'POST';\r\n\r\n    const res = await axios({\r\n      method,\r\n      url,\r\n      data,\r\n    });\r\n\r\n    if (res.data.status === 'success') {\r\n      showAlert('success', 'review create sucessfully');\r\n    }\r\n  } catch (err) {\r\n    showAlert('error', err.response.data.message);\r\n  }\r\n};\r\n"},"lineCount":null}},"error":null,"hash":"4c9e0e3dd79d88afea06c595330b350e","cacheData":{"env":{}}}
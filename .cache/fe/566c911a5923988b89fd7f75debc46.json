{"id":"stripe.js","dependencies":[{"name":"F:\\vs code programming\\iTours\\package.json","includedInParent":true,"mtime":1625065854385},{"name":"axios","loc":{"line":1,"column":18},"parent":"F:\\vs code programming\\iTours\\public\\js\\stripe.js","resolved":"F:\\vs code programming\\iTours\\node_modules\\axios\\index.js"},{"name":"./alert","loc":{"line":2,"column":26},"parent":"F:\\vs code programming\\iTours\\public\\js\\stripe.js","resolved":"F:\\vs code programming\\iTours\\public\\js\\alert.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.bookTour = void 0;\n\nvar _axios = _interopRequireDefault(require(\"axios\"));\n\nvar _alert = require(\"./alert\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst bookTour = async tourId => {\n  try {\n    const stripe = Stripe('pk_test_51J0VIFSJUT2MvnLYLcK1ZOHz3OLrURPIdKVcMRR9H8MvRbmPeQZWswPc9NGDxixcgld5uwTpFbPvlQhErgMktbYC00IRqkIhSw'); // 1)Get the session from API\n\n    const session = await (0, _axios.default)(`/api/v1/bookings/checkout-session/${tourId}`); //   2) Create a checkout form and charge the userDataForm\n\n    await stripe.redirectToCheckout({\n      sessionId: session.data.session.id\n    });\n  } catch (error) {\n    (0, _alert.showAlert)('error', error);\n  }\n};\n\nexports.bookTour = bookTour;"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":8,"column":0},"source":"stripe.js","original":{"line":1,"column":0}},{"generated":{"line":10,"column":0},"source":"stripe.js","original":{"line":2,"column":0}},{"generated":{"line":14,"column":0},"source":"stripe.js","original":{"line":4,"column":7}},{"name":"bookTour","generated":{"line":14,"column":6},"source":"stripe.js","original":{"line":4,"column":13}},{"generated":{"line":14,"column":14},"source":"stripe.js","original":{"line":4,"column":21}},{"generated":{"line":14,"column":17},"source":"stripe.js","original":{"line":4,"column":24}},{"name":"tourId","generated":{"line":14,"column":23},"source":"stripe.js","original":{"line":4,"column":31}},{"generated":{"line":14,"column":29},"source":"stripe.js","original":{"line":4,"column":24}},{"generated":{"line":14,"column":33},"source":"stripe.js","original":{"line":4,"column":42}},{"generated":{"line":15,"column":0},"source":"stripe.js","original":{"line":5,"column":2}},{"generated":{"line":15,"column":6},"source":"stripe.js","original":{"line":5,"column":6}},{"generated":{"line":16,"column":0},"source":"stripe.js","original":{"line":6,"column":4}},{"name":"stripe","generated":{"line":16,"column":10},"source":"stripe.js","original":{"line":6,"column":10}},{"generated":{"line":16,"column":16},"source":"stripe.js","original":{"line":6,"column":16}},{"name":"Stripe","generated":{"line":16,"column":19},"source":"stripe.js","original":{"line":6,"column":19}},{"generated":{"line":16,"column":25},"source":"stripe.js","original":{"line":6,"column":25}},{"generated":{"line":16,"column":26},"source":"stripe.js","original":{"line":7,"column":6}},{"generated":{"line":16,"column":135},"source":"stripe.js","original":{"line":6,"column":25}},{"generated":{"line":16,"column":136},"source":"stripe.js","original":{"line":6,"column":4}},{"generated":{"line":16,"column":137},"source":"stripe.js","original":{"line":5,"column":6}},{"generated":{"line":16,"column":138},"source":"stripe.js","original":{"line":9,"column":4}},{"generated":{"line":18,"column":0},"source":"stripe.js","original":{"line":10,"column":4}},{"name":"session","generated":{"line":18,"column":10},"source":"stripe.js","original":{"line":10,"column":10}},{"generated":{"line":18,"column":17},"source":"stripe.js","original":{"line":10,"column":17}},{"generated":{"line":18,"column":20},"source":"stripe.js","original":{"line":10,"column":20}},{"generated":{"line":18,"column":26},"source":"stripe.js","original":{"line":10,"column":26}},{"generated":{"line":18,"column":46},"source":"stripe.js","original":{"line":10,"column":33}},{"name":"tourId","generated":{"line":18,"column":83},"source":"stripe.js","original":{"line":10,"column":69}},{"generated":{"line":18,"column":89},"source":"stripe.js","original":{"line":10,"column":76}},{"generated":{"line":18,"column":91},"source":"stripe.js","original":{"line":10,"column":26}},{"generated":{"line":18,"column":92},"source":"stripe.js","original":{"line":10,"column":4}},{"generated":{"line":18,"column":93},"source":"stripe.js","original":{"line":5,"column":6}},{"generated":{"line":18,"column":94},"source":"stripe.js","original":{"line":11,"column":4}},{"generated":{"line":20,"column":0},"source":"stripe.js","original":{"line":12,"column":4}},{"name":"stripe","generated":{"line":20,"column":10},"source":"stripe.js","original":{"line":12,"column":10}},{"generated":{"line":20,"column":16},"source":"stripe.js","original":{"line":12,"column":16}},{"name":"redirectToCheckout","generated":{"line":20,"column":17},"source":"stripe.js","original":{"line":12,"column":17}},{"generated":{"line":20,"column":35},"source":"stripe.js","original":{"line":12,"column":10}},{"generated":{"line":20,"column":36},"source":"stripe.js","original":{"line":12,"column":36}},{"name":"sessionId","generated":{"line":21,"column":0},"source":"stripe.js","original":{"line":13,"column":6}},{"name":"sessionId","generated":{"line":21,"column":6},"source":"stripe.js","original":{"line":13,"column":6}},{"generated":{"line":21,"column":15},"source":"stripe.js","original":{"line":13,"column":15}},{"name":"session","generated":{"line":21,"column":17},"source":"stripe.js","original":{"line":13,"column":17}},{"generated":{"line":21,"column":24},"source":"stripe.js","original":{"line":13,"column":24}},{"name":"data","generated":{"line":21,"column":25},"source":"stripe.js","original":{"line":13,"column":25}},{"generated":{"line":21,"column":29},"source":"stripe.js","original":{"line":13,"column":17}},{"name":"session","generated":{"line":21,"column":30},"source":"stripe.js","original":{"line":13,"column":30}},{"generated":{"line":21,"column":37},"source":"stripe.js","original":{"line":13,"column":17}},{"name":"id","generated":{"line":21,"column":38},"source":"stripe.js","original":{"line":13,"column":38}},{"generated":{"line":22,"column":0},"source":"stripe.js","original":{"line":12,"column":36}},{"generated":{"line":22,"column":5},"source":"stripe.js","original":{"line":12,"column":10}},{"generated":{"line":22,"column":6},"source":"stripe.js","original":{"line":12,"column":4}},{"generated":{"line":23,"column":0},"source":"stripe.js","original":{"line":15,"column":3}},{"generated":{"line":23,"column":3},"source":"stripe.js","original":{"line":5,"column":2}},{"generated":{"line":23,"column":4},"source":"stripe.js","original":{"line":15,"column":4}},{"name":"error","generated":{"line":23,"column":11},"source":"stripe.js","original":{"line":15,"column":11}},{"generated":{"line":23,"column":16},"source":"stripe.js","original":{"line":15,"column":4}},{"generated":{"line":23,"column":18},"source":"stripe.js","original":{"line":15,"column":18}},{"generated":{"line":24,"column":0},"source":"stripe.js","original":{"line":16,"column":4}},{"generated":{"line":24,"column":26},"source":"stripe.js","original":{"line":16,"column":14}},{"generated":{"line":24,"column":33},"source":"stripe.js","original":{"line":16,"column":4}},{"name":"error","generated":{"line":24,"column":35},"source":"stripe.js","original":{"line":16,"column":23}},{"generated":{"line":24,"column":40},"source":"stripe.js","original":{"line":16,"column":4}},{"generated":{"line":25,"column":0},"source":"stripe.js","original":{"line":17,"column":3}},{"generated":{"line":26,"column":0},"source":"stripe.js","original":{"line":18,"column":1}},{"generated":{"line":26,"column":1},"source":"stripe.js","original":{"line":4,"column":7}}],"sources":{"stripe.js":"import axios from 'axios';\r\nimport { showAlert } from './alert';\r\n\r\nexport const bookTour = async (tourId) => {\r\n  try {\r\n    const stripe = Stripe(\r\n      'pk_test_51J0VIFSJUT2MvnLYLcK1ZOHz3OLrURPIdKVcMRR9H8MvRbmPeQZWswPc9NGDxixcgld5uwTpFbPvlQhErgMktbYC00IRqkIhSw'\r\n    );\r\n    // 1)Get the session from API\r\n    const session = await axios(`/api/v1/bookings/checkout-session/${tourId}`);\r\n    //   2) Create a checkout form and charge the userDataForm\r\n    await stripe.redirectToCheckout({\r\n      sessionId: session.data.session.id,\r\n    });\r\n  } catch (error) {\r\n    showAlert('error', error);\r\n  }\r\n};\r\n"},"lineCount":null}},"error":null,"hash":"81f1d4f59cbaa63b8eed9179082cd748","cacheData":{"env":{}}}
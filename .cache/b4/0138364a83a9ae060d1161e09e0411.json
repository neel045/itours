{"id":"Uj2q","dependencies":[{"name":"F:\\vs code programming\\iTours\\package.json","includedInParent":true,"mtime":1625065854385},{"name":"axios","loc":{"line":1,"column":18},"parent":"F:\\vs code programming\\iTours\\public\\js\\stripe.js","resolved":"F:\\vs code programming\\iTours\\node_modules\\axios\\index.js"},{"name":"./alert","loc":{"line":2,"column":26},"parent":"F:\\vs code programming\\iTours\\public\\js\\stripe.js","resolved":"F:\\vs code programming\\iTours\\public\\js\\alert.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.bookTour=void 0;var e=t(require(\"axios\")),o=require(\"./alert\");function t(e){return e&&e.__esModule?e:{default:e}}const r=async t=>{try{const s=Stripe(\"pk_test_51J0VIFSJUT2MvnLYLcK1ZOHz3OLrURPIdKVcMRR9H8MvRbmPeQZWswPc9NGDxixcgld5uwTpFbPvlQhErgMktbYC00IRqkIhSw\"),i=await(0,e.default)(`/api/v1/bookings/checkout-session/${t}`);await s.redirectToCheckout({sessionId:i.data.session.id})}catch(r){(0,o.showAlert)(\"error\",r)}};exports.bookTour=r;"},"sourceMaps":{"js":{"mappings":[{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":0}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":13}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":20}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":35}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":43}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":56}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":57}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":64}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":68}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":76}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":90}},{"source":"stripe.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"stripe.js","original":{"line":1,"column":0},"generated":{"line":1,"column":96}},{"source":"stripe.js","original":{"line":1,"column":0},"generated":{"line":1,"column":98}},{"source":"stripe.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"stripe.js","original":{"line":1,"column":0},"generated":{"line":1,"column":108}},{"source":"stripe.js","original":{"line":2,"column":0},"generated":{"line":1,"column":118}},{"source":"stripe.js","original":{"line":2,"column":0},"generated":{"line":1,"column":120}},{"source":"stripe.js","original":{"line":2,"column":0},"generated":{"line":1,"column":128}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":139}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":148}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":150}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":153}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":160}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":163}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":165}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":176}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":178}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":179}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":187}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":190}},{"source":"stripe.js","name":"bookTour","original":{"line":4,"column":13},"generated":{"line":1,"column":196}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":198}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":204}},{"source":"stripe.js","original":{"line":5,"column":6},"generated":{"line":1,"column":208}},{"source":"stripe.js","name":"stripe","original":{"line":6,"column":10},"generated":{"line":1,"column":212}},{"source":"stripe.js","name":"stripe","original":{"line":6,"column":10},"generated":{"line":1,"column":218}},{"source":"stripe.js","name":"Stripe","original":{"line":6,"column":19},"generated":{"line":1,"column":220}},{"source":"stripe.js","original":{"line":7,"column":6},"generated":{"line":1,"column":227}},{"source":"stripe.js","name":"session","original":{"line":10,"column":10},"generated":{"line":1,"column":338}},{"source":"stripe.js","original":{"line":10,"column":26},"generated":{"line":1,"column":346}},{"source":"stripe.js","original":{"line":10,"column":33},"generated":{"line":1,"column":348}},{"source":"stripe.js","original":{"line":10,"column":33},"generated":{"line":1,"column":350}},{"source":"stripe.js","name":"tourId","original":{"line":10,"column":69},"generated":{"line":1,"column":396}},{"source":"stripe.js","name":"stripe","original":{"line":12,"column":10},"generated":{"line":1,"column":407}},{"source":"stripe.js","name":"redirectToCheckout","original":{"line":12,"column":17},"generated":{"line":1,"column":409}},{"source":"stripe.js","original":{"line":12,"column":36},"generated":{"line":1,"column":428}},{"source":"stripe.js","name":"sessionId","original":{"line":13,"column":6},"generated":{"line":1,"column":429}},{"source":"stripe.js","name":"session","original":{"line":13,"column":17},"generated":{"line":1,"column":439}},{"source":"stripe.js","name":"data","original":{"line":13,"column":25},"generated":{"line":1,"column":441}},{"source":"stripe.js","name":"session","original":{"line":13,"column":30},"generated":{"line":1,"column":446}},{"source":"stripe.js","name":"id","original":{"line":13,"column":38},"generated":{"line":1,"column":454}},{"source":"stripe.js","original":{"line":15,"column":4},"generated":{"line":1,"column":459}},{"source":"stripe.js","name":"error","original":{"line":15,"column":11},"generated":{"line":1,"column":465}},{"source":"stripe.js","original":{"line":16,"column":14},"generated":{"line":1,"column":469}},{"source":"stripe.js","original":{"line":16,"column":14},"generated":{"line":1,"column":471}},{"source":"stripe.js","original":{"line":16,"column":14},"generated":{"line":1,"column":473}},{"source":"stripe.js","original":{"line":16,"column":14},"generated":{"line":1,"column":484}},{"source":"stripe.js","name":"error","original":{"line":16,"column":23},"generated":{"line":1,"column":492}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":497}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":505}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":514}}],"sources":{"stripe.js":"import axios from 'axios';\r\nimport { showAlert } from './alert';\r\n\r\nexport const bookTour = async (tourId) => {\r\n  try {\r\n    const stripe = Stripe(\r\n      'pk_test_51J0VIFSJUT2MvnLYLcK1ZOHz3OLrURPIdKVcMRR9H8MvRbmPeQZWswPc9NGDxixcgld5uwTpFbPvlQhErgMktbYC00IRqkIhSw'\r\n    );\r\n    // 1)Get the session from API\r\n    const session = await axios(`/api/v1/bookings/checkout-session/${tourId}`);\r\n    //   2) Create a checkout form and charge the userDataForm\r\n    await stripe.redirectToCheckout({\r\n      sessionId: session.data.session.id,\r\n    });\r\n  } catch (error) {\r\n    showAlert('error', error);\r\n  }\r\n};\r\n"},"lineCount":null}},"error":null,"hash":"49c46d2f81fc16e03ad37912ef3cf6b1","cacheData":{"env":{}}}